"use strict";function help(){console.log("queryConsumption(data, field, value, compType)"),console.log("// data - raw array"),console.log("// field - fieldname (date, or drug.name, drug.id)"),console.log("// value - comparison value"),console.log("// compType - EQ, GT, LT, GE, LE, INC"),console.log("----------------------------------"),console.log("// data - raw array"),console.log("// field - fieldname (ttime, etc.)"),console.log("// value - comparison value"),console.log("// compType - EQ, GT, LT, GE, LE, INC"),console.log("function queryExperience(data, field, value, compType)"),console.log("----------------------------------"),console.log("function intersect(data1, data2)"),console.log("----------------------------------"),console.log("// direction: -1 ASC, 1 DESC"),console.log("function sortByField(data, field, direction)")}function getKeyVal(o,e){var n=!1;return e.forEach(function(t){return n?void 0:o.hasOwnProperty(t)?void(o=o[t]):(console.log("Invalid key name "+t+" in array "+e.join(".")+" while searching data"),void(n=!0))}),n?void 0:o}function compute_EQ(o,e){return o===e}function compute_GT(o,e){return o>e}function compute_LT(o,e){return e>o}function compute_GE(o,e){return o>=e}function compute_LE(o,e){return e>=o}function compute_INC(o,e){return String(o).indexOf(String(e))>-1}function queryConsumption(o,e,n,t){var i=["count","date","experience_id","location","owner"],r=["method","drug"],c=[];return o.forEach(function(o,u){o.consumptions.forEach(function(o){if(i.indexOf(e)>-1)window["compute_"+t](o[e],n)&&c.indexOf(u)<0&&c.push(u);else{var a=e.split(".");r.indexOf(a[0])>-1?window["compute_"+t](o[a[0]][a[1]],n)&&c.indexOf(u)<0&&c.push(u):"friends"===a[0]?o.friends.forEach(function(o){window["compute_"+t](o[a[1]],n)&&c.indexOf(u)<0&&c.push(u)}):console.log("no such field.")}})}),fullData.filter(function(o,e){return c.indexOf(e)>-1})}function queryExperience(o,e,n,t){var i=[];return o.forEach(function(o,e){window["compute_"+t](o[n],n)&&i.indexOf(e)<0&&i.push(e)}),fullData.filter(function(o,e){return i.indexOf(e)>-1})}function intersect(o,e){var n=[],t=[];return o.forEach(function(o){n.indexOf(o.id)<0&&t.push(o)}),e.forEach(function(o){n.indexOf(o.id)<0&&t.push(o)}),t}function sortByField(o,e,n){return o.sort(function(o,t){var i=o,r=t;return e.split(".").forEach(function(o){i=i[o],r=r[o]}),r>i?n:i>r?-1:0})}var fullData,results;makeAuthRequest("/experience/search","POST",null,"json",function(o,e,n){return 404===n?void Materialize.toast("No experiences",6e3,"danger-toast"):(e.sort(function(o,e){return parseFloat(e.date)-parseFloat(o.date)}),fullData=e,$("#status").html('Loaded! Accessible in <span style="font-family: monospace;">fullData</span>'),void $("#status").css("color","green"))}),console.log("use `help()` for more info");