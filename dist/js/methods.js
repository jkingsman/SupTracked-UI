"use strict";function alphabetizeSort(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t>e?-1:e>t?1:0}function populateDropdown(e){e=e||0,$("#methodList").empty(),$("#deleteMethod").hide(),$("#methodList").append('<option value="0">New Method</option>'),makeAuthRequest("/method/all","GET",null,"json",function(t,o,a){o.sort(function(e,t){return alphabetizeSort(e.name,t.name)}),methods=o,o.forEach(function(t){var o="";e===t.id&&(o="selected "),$("#methodList").append("<option "+o+'value="'+t.id+'">'+t.name+"</option>")}),$("#methodList").trigger("change")})}function saveNew(){var e={name:$("#name").val(),icon:$("#icon").val()};makeAuthRequest("/method","POST",JSON.stringify(e),"json",function(e,t,o){return 201!==o?void Materialize.toast("Method save error: "+e,6e3,"warning-toast"):(populateDropdown(t.id),void Materialize.toast("Method created",1e3))})}function deleteMethod(){makeAuthRequest("/method","DELETE",JSON.stringify({id:parseInt($("#methodList").val())}),"json",function(e,t,o){return 200!==o?void Materialize.toast("Method delete error: "+e,6e3,"warning-toast"):(populateDropdown(0),void Materialize.toast("Method deleted",1e3))})}var methods,saveNotificationTimeout;$(document).ready(function(){populateDropdown()}),$("#methodList").on("change",function(){return 0===parseInt($("#methodList").val())?($("#name").val(""),$("#icon").val(""),$("#saveNew").show(),void $("#deleteMethod").hide()):($("#saveNew").hide(),$("#deleteMethod").show(),void methods.forEach(function(e){e.id===parseInt($("#methodList").val())&&($("#name").val(e.name),$("#icon").val(e.icon),$("#nameLabel, #iconlabel").addClass("active"))}))}),$("#name, #icon").on("change keyup paste",function(){0!==parseInt($("#methodList").val())&&(clearTimeout(saveNotificationTimeout),saveNotificationTimeout=setTimeout(function(){var e={id:parseInt($("#methodList").val()),name:$("#name").val(),icon:$("#icon").val()};makeAuthRequest("/method","PUT",JSON.stringify(e),"json",function(e,t,o){return 200!==o?void Materialize.toast("Method save error: "+e,6e3,"warning-toast"):(populateDropdown(parseInt($("#methodList").val())),void Materialize.toast("Method saved",1e3))})},1e3))});