function experience_list(){"use strict";allExperiences.forEach(function(n){n.title.length<1&&(n.title="[none]");var i=0;n.consumptions.forEach(function(n){n.drug.id===drug.id&&(i+=n.count)});var e=[],t="Solo Experience";n.consumptions.forEach(function(n){n.friends.forEach(function(n){-1===e.indexOf(n.name)&&e.push(n.name)})}),e.length>0&&(t=e.join(", "));var a=[],o="[no location]";n.consumptions.forEach(function(n){-1===a.indexOf(n.location)&&a.push(n.location)}),a.length>0&&(o=a.join(", ")),$("#experienceContainer").append('<li class="collection-item">'+new Date(1e3*n.date).toISOString().slice(0,10)+'<span class="right hide-on-med-and-down" style="max-width: 50%;">'+t+" at <strong>"+o+'</strong></span><h5><a href="/experience.html?'+n.id+'">'+n.title+'</a></h5><div class="pad-left-40">'+i+" "+drug.unit+" "+drug.name+"</div></li>")}),analyticsFinished+=1}var analyticsCount,analyticsFinished,allDrugs,allConsumptions,drug,allExperiences;analyticsCount+=1;
function vitals(){"use strict";allDrugs.sort(function(e,t){return e.use_count<t.use_count?1:e.use_count>t.use_count?-1:0});var e=allDrugs.map(function(e){return e.name}),t=e.indexOf(drug.name),a="";t>0&&(a='preceded by <a href="/analytics.html?'+allDrugs[t-1].id+'">'+e[t-1]+"</a>");var n="";t!==e.length-1&&(n='followed by <a href="/analytics.html?'+allDrugs[t+1].id+'">'+e[t+1]+"</a>");var l;l=a&&n?"("+a+" and "+n+")":a?"("+a+")":n?"("+n+")":"",$("#ranking").html("#"+(t+1)+" by usage with "+allDrugs[t].use_count+" uses <i>"+l+"</i>"),$("#useFirst").html(new Date(1e3*allConsumptions[0].date).toISOString().slice(0,16).replace(/T/," ").replace(":","")+' -- <a href="/experience.html?'+allConsumptions[0].exp_id+'">'+allConsumptions[0].title+"</a>"),$("#useLast").html(new Date(1e3*allConsumptions[allConsumptions.length-1].date).toISOString().slice(0,16).replace(/T/," ").replace(":","")+' -- <a href="/experience.html?'+allConsumptions[allConsumptions.length-1].exp_id+'">'+allConsumptions[allConsumptions.length-1].title+"</a>");var s={},i={};allConsumptions.forEach(function(e,t){if(0===t)return i.startDate=e.date,i.days=1,void(s=i);var a=new Date(1e3*e.date).getDate()-new Date(1e3*allConsumptions[t-1].date).getDate();2>a?1===a&&(i.days+=1):(i.days>s.days&&(s=i),i.startDate=e.date,i.days=1)}),$("#streak").html(s.days+" days <i>(starting on "+new Date(1e3*s.startDate).toISOString().slice(0,16).replace(/T/," ").replace(":","")+")</i>");var o,r,u=!1,p=0;allConsumptions.forEach(function(e,t){var a;return t===allConsumptions.length-1?(a=Math.floor((new Date).getTime()/1e3)-e.date,void(a>p&&(o=t,r=0,u=!0,p=a))):(a=allConsumptions[t+1].date-e.date,void(a>p&&(o=t,r=t+1,p=a)))});var c,d=new Date(1e3*allConsumptions[o].date).toISOString().slice(0,16).replace(/T/," ").replace(":","")+' (<a href="/experience.html?'+allConsumptions[o].exp_id+'">'+allConsumptions[o].title+"</a>)";c=u?(new Date).toISOString().slice(0,16).replace(/T/," ").replace(":","")+" (present)":new Date(1e3*allConsumptions[r].date).toISOString().slice(0,16).replace(/T/," ").replace(":","")+' (<a href="/experience.html?'+allConsumptions[r].exp_id+'">'+allConsumptions[r].title+"</a>)";var m=Math.floor(p/86400);$("#tBreak").html(d+" to "+c+" ("+m+" days)"),analyticsFinished+=1}var analyticsCount,analyticsFinished,allDrugs,allConsumptions,drug;analyticsCount+=1;